<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>棉尾舟下载 | 棉尾舟下载站</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif; }
        body { background-color: #FFE6F2; color: #5A003A; line-height: 1.6; min-height: 100vh; }
        .header { background: linear-gradient(135deg, #FF66B2, #FF3385); padding: 1.2rem 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 12px rgba(255, 102, 178, 0.2); position: sticky; top: 0; z-index: 100; }
        .logo { display: flex; align-items: center; gap: 12px; }
        .logo i { font-size: 2.2rem; color: white; }
        .logo h1 { color: white; font-size: 1.8rem; font-weight: 700; letter-spacing: 1px; }
        .nav-links a { color: white; text-decoration: none; margin-left: 2rem; font-weight: 600; font-size: 1.1rem; transition: all 0.3s; padding: 8px 12px; border-radius: 20px; }
        .nav-links a:hover { background-color: rgba(255, 255, 255, 0.2); transform: translateY(-2px); }
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
        .page-title { text-align: center; padding: 2rem 0; color: #B3005E; font-size: 2.5rem; margin-bottom: 1rem; }
        .page-subtitle { text-align: center; color: #FF3385; font-size: 1.2rem; margin-bottom: 3rem; max-width: 800px; margin-left: auto; margin-right: auto; }
        .software-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 3rem; }
        .software-card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(255, 102, 178, 0.1); transition: transform 0.3s, box-shadow 0.3s; }
        .software-card:hover { transform: translateY(-5px); box-shadow: 0 15px 25px rgba(255, 102, 178, 0.2); }
        .software-img { width: 100%; height: 180px; background: linear-gradient(135deg, #FFB6D9, #FF66B2); display: flex; align-items: center; justify-content: center; font-size: 4rem; color: white; }
        .software-info { padding: 1.5rem; }
        .software-title { color: #B3005E; font-size: 1.5rem; margin-bottom: 0.8rem; }
        .software-desc { color: #5A003A; margin-bottom: 1.5rem; font-size: 0.95rem; height: 60px; overflow: hidden; }
        .download-btn { display: block; width: 100%; background: linear-gradient(to right, #FF66B2, #FF3385); color: white; border: none; padding: 12px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s; text-align: center; text-decoration: none; }
        .download-btn:hover { background: linear-gradient(to right, #FF3385, #FF0066); box-shadow: 0 5px 15px rgba(255, 102, 178, 0.4); }
        .disabled-link { color: #ccc !important; cursor: not-allowed; text-decoration: none !important; border-color: #eee !important; background: #f5f5f5 !important; }
        .disabled-link:hover { background: #f5f5f5 !important; color: #ccc !important; cursor: not-allowed; box-shadow: none !important; transform: none !important; }
        .back-home { text-align: center; margin: 3rem 0; }
        .back-home a { display: inline-block; padding: 12px 30px; background: white; color: #FF3385; text-decoration: none; border-radius: 50px; font-weight: 600; transition: all 0.3s; border: 2px solid #FFB6D9; }
        .back-home a:hover { background: #FFB6D9; color: white; transform: translateY(-3px); }
        .footer { background: linear-gradient(135deg, #FF66B2, #FF3385); color: white; padding: 2.5rem 5%; text-align: center; margin-top: 3rem; }
        
        /* 自定义弹窗样式 */
        .custom-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; }
        .modal-content { background: white; border-radius: 15px; padding: 2rem; max-width: 400px; width: 90%; box-shadow: 0 10px 30px rgba(0,0,0,0.2); animation: modalFadeIn 0.3s; }
        .modal-header { color: #B3005E; font-size: 1.5rem; margin-bottom: 1rem; text-align: center; }
        .modal-body { color: #5A003A; margin-bottom: 1.5rem; text-align: center; }
        .modal-footer { display: flex; justify-content: center; gap: 1rem; }
        .modal-btn { padding: 10px 25px; border-radius: 8px; border: none; font-weight: 600; cursor: pointer; transition: all 0.3s; }
        .modal-btn.confirm { background: linear-gradient(to right, #FF66B2, #FF3385); color: white; }
        .modal-btn.confirm:hover { background: linear-gradient(to right, #FF3385, #FF0066); }
        .modal-btn.cancel { background: #f0f0f0; color: #666; }
        .modal-btn.cancel:hover { background: #e0e0e0; }
        
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @media (max-width: 768px) {
            .header { flex-direction: column; gap: 1rem; }
            .nav-links a { margin: 0 0.5rem; font-size: 1rem; }
            .page-title { font-size: 2rem; }
            .software-list { grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); }
            .modal-content { padding: 1.5rem; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">
            <i class="fas fa-download"></i>
            <h1>棉尾舟下载站</h1>
        </div>
        <nav class="nav-links">
            <a href="../index.html"><i class="fas fa-home"></i> 返回首页</a>
            <a href="../about.html"><i class="fas fa-info-circle"></i> 关于</a>
        </nav>
    </header>
    <main class="container">
        <h1 class="page-title">棉尾舟</h1>
        <p class="page-subtitle">棉尾舟服务器的资源</p>
        <div class="software-list">
            <div class="software-card">
                <div class="software-img"><i class="fas fa-photo-video"></i></div>
                <div class="software-info">
                    <h3 class="software-title">手机客户端</h3>
                    <p class="software-desc">fcl app,请保证内存在4gb以上,安卓版本8以上</p>
                    <a href="https://fsp1.cn-nb1.rains3.com/手机客户端.apk" class="download-btn" download data-filename="手机客户端.apk"><i class="fas fa-download"></i> 立即下载</a>
                </div>
            </div>
            <div class="software-card">
                <div class="software-img"><i class="fas fa-file-word"></i></div>
                <div class="software-info">
                    <h3 class="software-title">未添加</h3>
                    <p class="software-desc">未添加</p>
                    <a href="#" class="download-btn disabled-link"><i class="fas fa-download"></i> 立即下载</a>
                </div>
            </div>
            <div class="software-card">
                <div class="software-img"><i class="fas fa-music"></i></div>
                <div class="software-info">
                    <h3 class="software-title">未添加</h3>
                    <p class="software-desc">未添加</p>
                    <a href="#" class="download-btn disabled-link"><i class="fas fa-download"></i> 立即下载</a>
                </div>
            </div>
            <div class="software-card">
                <div class="software-img"><i class="fas fa-video"></i></div>
                <div class="software-info">
                    <h3 class="software-title">未添加</h3>
                    <p class="software-desc">未添加</p>
                    <a href="#" class="download-btn disabled-link"><i class="fas fa-download"></i> 立即下载</a>
                </div>
            </div>
            <div class="software-card">
                <div class="software-img"><i class="fas fa-browser"></i></div>
                <div class="software-info">
                    <h3 class="software-title">未添加</h3>
                    <p class="software-desc">未添加</p>
                    <a href="#" class="download-btn disabled-link"><i class="fas fa-download"></i> 立即下载</a>
                </div>
            </div>
            <div class="software-card">
                <div class="software-img"><i class="fas fa-cloud-download-alt"></i></div>
                <div class="software-info">
                    <h3 class="software-title">未添加</h3>
                    <p class="software-desc">未添加</p>
                    <a href="#" class="download-btn disabled-link"><i class="fas fa-download"></i> 立即下载</a>
                </div>
            </div>
        </div>
        <div class="back-home">
            <a href="../index.html"><i class="fas fa-arrow-left"></i> 返回首页</a>
        </div>
    </main>
    
    <!-- 弹窗容器 -->
    <div id="downloadModal" class="custom-modal">
        <div class="modal-content">
            <div class="modal-header">确认下载</div>
            <div class="modal-body" id="modalMessage">
                您确定要下载这个文件吗？
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel" id="cancelBtn">取消</button>
                <button class="modal-btn confirm" id="confirmBtn">确认下载</button>
            </div>
        </div>
    </div>
    
    <div id="infoModal" class="custom-modal">
        <div class="modal-content">
            <div class="modal-header">下载提示</div>
            <div class="modal-body" id="infoMessage">
                文件下载即将开始，请确保网络连接稳定。
            </div>
            <div class="modal-footer">
                <button class="modal-btn confirm" id="finalConfirmBtn">开始下载</button>
            </div>
        </div>
    </div>
    
    <footer class="footer" id="about"></footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 变量存储当前点击的下载链接
            let currentDownloadLink = null;
            let currentFileName = "";
            
            // 获取弹窗元素
            const downloadModal = document.getElementById('downloadModal');
            const infoModal = document.getElementById('infoModal');
            const modalMessage = document.getElementById('modalMessage');
            const infoMessage = document.getElementById('infoMessage');
            const cancelBtn = document.getElementById('cancelBtn');
            const confirmBtn = document.getElementById('confirmBtn');
            const finalConfirmBtn = document.getElementById('finalConfirmBtn');
            
            // 显示下载确认弹窗
            function showDownloadModal(filename) {
                modalMessage.textContent = `您确定要下载 "${filename}" 吗？`;
                downloadModal.style.display = 'flex';
            }
            
            // 显示信息弹窗
            function showInfoModal(filename) {
                infoMessage.textContent = `"${filename}" 下载即将开始，请确保网络连接稳定。`;
                infoModal.style.display = 'flex';
            }
            
            // 隐藏弹窗
            function hideModal(modal) {
                modal.style.display = 'none';
            }
            
            // 处理下载链接点击
            document.querySelectorAll('.download-btn').forEach(link => {
                link.addEventListener('click', function(e) {
                    // 如果是禁用链接，显示原有错误提示
                    if (this.classList.contains('disabled-link')) {
                        e.preventDefault();
                        alert('服务器错误:该资源所对应下载站链接未启用或错误');
                        return;
                    }
                    
                    // 阻止默认下载行为
                    e.preventDefault();
                    
                    // 保存当前点击的链接和文件名
                    currentDownloadLink = this;
                    currentFileName = this.getAttribute('data-filename') || 
                                     this.href.substring(this.href.lastIndexOf('/') + 1) || 
                                     "文件";
                    
                    // 显示第一个确认弹窗
                    showDownloadModal(currentFileName);
                });
            });
            
            // 第一个弹窗的取消按钮
            cancelBtn.addEventListener('click', function() {
                hideModal(downloadModal);
                currentDownloadLink = null;
            });
            
            // 第一个弹窗的确认按钮
            confirmBtn.addEventListener('click', function() {
                hideModal(downloadModal);
                
                // 显示第二个信息弹窗
                setTimeout(() => {
                    showInfoModal(currentFileName);
                }, 300);
            });
            
            // 第二个弹窗的确认按钮
            finalConfirmBtn.addEventListener('click', function() {
                hideModal(infoModal);
                
                // 触发实际下载
                if (currentDownloadLink) {
                    // 创建隐藏的iframe进行下载（避免页面跳转）
                    const iframe = document.createElement('iframe');
                    iframe.style.display = 'none';
                    iframe.src = currentDownloadLink.href;
                    document.body.appendChild(iframe);
                    
                    // 清理
                    setTimeout(() => {
                        document.body.removeChild(iframe);
                        currentDownloadLink = null;
                    }, 1000);
                }
            });
            
            // 点击弹窗外部关闭
            [downloadModal, infoModal].forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        hideModal(this);
                        currentDownloadLink = null;
                    }
                });
            });
            
            // 平滑滚动效果
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        e.preventDefault();
                        window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' });
                    }
                });
            });
        });
    </script>
</body>
</html>